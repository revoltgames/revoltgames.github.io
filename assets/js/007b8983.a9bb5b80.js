"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[757],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=r.createContext({}),p=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=p(n),m=o,y=d["".concat(s,".").concat(m)]||d[m]||c[m]||a;return n?r.createElement(y,i(i({ref:t},u),{},{components:n})):r.createElement(y,i({ref:t},u))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:o,i[1]=l;for(var p=2;p<a;p++)i[p]=n[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},866:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>c,frontMatter:()=>a,metadata:()=>l,toc:()=>p});var r=n(7462),o=(n(7294),n(3905));const a={sidebar_position:4},i="Countries",l={unversionedId:"terra/countries",id:"terra/countries",title:"Countries",description:"The /countries/ routes return countries in the world.",source:"@site/docs/terra/countries.md",sourceDirName:"terra",slug:"/terra/countries",permalink:"/docs/terra/countries",draft:!1,editUrl:"https://github.com/revoltgames/docs/tree/main/docs/terra/countries.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Error Responses",permalink:"/docs/terra/errors-responses"},next:{title:"Cities",permalink:"/docs/terra/cities"}},s={},p=[{value:"Primary Countries",id:"primary-countries",level:2},{value:"Get all countries",id:"get-all-countries",level:2},{value:"Get countries by ids",id:"get-countries-by-ids",level:2},{value:"Find a country by location",id:"find-a-country-by-location",level:2},{value:"Get countries by name (autocompletion)",id:"get-countries-by-name-autocompletion",level:2}],u={toc:p};function c(e){let{components:t,...a}=e;return(0,o.kt)("wrapper",(0,r.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"countries"},"Countries"),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"/countries/")," routes return countries in the world. "),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"All ",(0,o.kt)("inlineCode",{parentName:"p"},"/countries/")," routes accept an optionnal ",(0,o.kt)("inlineCode",{parentName:"p"},"lang")," parameter, which defaults to ",(0,o.kt)("inlineCode",{parentName:"p"},"en"),". This parameter changes the language of the ",(0,o.kt)("inlineCode",{parentName:"p"},"name")," field for every returned countries. See ",(0,o.kt)("a",{parentName:"p",href:"./langcodes"},"Langcodes")," for availables ",(0,o.kt)("inlineCode",{parentName:"p"},"langcodes"))),(0,o.kt)("h2",{id:"primary-countries"},"Primary Countries"),(0,o.kt)("p",null,'In Terra, some Countries are marked as "primary". Those are the most significant countries available. There are 197 primary countries in total, and they are exactly the countries used in Neopolis (for Visas, etc).'),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"By default, Terra returns all countries (primary included). To receive only primary countries only, add ",(0,o.kt)("inlineCode",{parentName:"p"},"primary_only=true")," to your query.")),(0,o.kt)("h2",{id:"get-all-countries"},"Get all countries"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"GET https://terra.neopolis.app/countries/findAll?limit=100&offset=0&primary_only=true\n")),(0,o.kt)("p",null,"Note: The ",(0,o.kt)("inlineCode",{parentName:"p"},"limit")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"offset")," params are optional"),(0,o.kt)("details",null,(0,o.kt)("summary",null,"Example Response"),(0,o.kt)("p",null,(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'{\n    "status": "ok"\n    "data": [\n        {\n            "continent": "North America",\n            "id": "ABW",\n            "name": "Aruba",\n            "population": 107000\n        },\n        (...)\n    ]\n}\n')))),(0,o.kt)("h2",{id:"get-countries-by-ids"},"Get countries by ids"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"GET https://terra.neopolis.app/countries/findByIds?country_ids=ABW,ESP&lang=fr\n")),(0,o.kt)("details",null,(0,o.kt)("summary",null,"Example Response"),(0,o.kt)("p",null,(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'{\n    "status": "ok"\n    "data": [\n        {\n            "continent": "North America",\n            "id": "ABW",\n            "name": "Aruba",\n            "population": 107000\n        },\n        (...)\n    ]\n}\n')))),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"All ",(0,o.kt)("inlineCode",{parentName:"p"},"country_ids")," is a list of comma separate country_ids (3 letter ISO code, all uppercase). It is possible to have only 1 country in the list to get a specific country.")),(0,o.kt)("h2",{id:"find-a-country-by-location"},"Find a country by location"),(0,o.kt)("p",null,"This endpoint returns 0 or more countries that match the given location. For locations close to a border, all nearby countries are returned."),(0,o.kt)("p",null,'Note that this endpoint uses a "buffered" version of country borders: all borders have been expanded by 5 to 10km, to make the matching "more permissive" on country borders and coast lines. This buffer has been added to compensate for the unaccuracies of the underling polygon dataset.'),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"GET https://terra.neopolis.app/countries/findByLocation?land_id=8818699b1bfffff&lang=fr&primary_only=true\n")),(0,o.kt)("p",null,"OR"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"GET https://terra.neopolis.app/countries/findByLocation?lat=45.9&lng=1.5&lang=fr&primary_only=true\n")),(0,o.kt)("details",null,(0,o.kt)("summary",null,"Example Response"),(0,o.kt)("p",null,(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'{\n    "status": "ok"\n    "data": [\n        {\n            "continent": "North America",\n            "id": "ABW",\n            "name": "Aruba",\n            "population": 107000\n        },\n        ...\n    ]\n}\n')))),(0,o.kt)("p",null,'The "buffer" can be seen in ',(0,o.kt)("inlineCode",{parentName:"p"},"red")," in this image. Locations in the ",(0,o.kt)("inlineCode",{parentName:"p"},"green")," and in the ",(0,o.kt)("inlineCode",{parentName:"p"},"red"),' area are considered "inside" the country.'),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Country Borders",src:n(6169).Z,width:"1846",height:"1108"})),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"green")," = the normal polygons for countries"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"red")," + ",(0,o.kt)("inlineCode",{parentName:"li"},"green")," = the buffered polygons for countries")),(0,o.kt)("h2",{id:"get-countries-by-name-autocompletion"},"Get countries by name (autocompletion)"),(0,o.kt)("p",null,"Returns all countries who's name starts with the given token."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"GET https://terra.neopolis.app/countries/findByName?token=Aru&limit=10&primary_only=true\n")),(0,o.kt)("details",null,(0,o.kt)("summary",null,"Example Response"),(0,o.kt)("p",null,(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'{\n    "status": "ok"\n    "data": {\n        "continent": "North America",\n        "id": "ABW",\n        "name": "Aruba",\n        "population": 107000\n    },\n}\n')))))}c.isMDXComponent=!0},6169:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/buffered-countries-7168357a1603ac342662481aeee5bf98.png"}}]);